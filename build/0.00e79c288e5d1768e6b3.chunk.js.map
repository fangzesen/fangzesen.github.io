{"version":3,"sources":["../../src/pages/work/work-new-process/work-new-process.module.ts","../../src/pages/work/work-new-process/work-new-process.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAA6E;AACpC;AACO;AACQ;AAUxD;IAAA;IAAuC,CAAC;IAA3B,wBAAwB;QARpC,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6EAAkB;aACnB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,6EAAkB,CAAC,EAAC,yFAAc;aAC5D;SACF,CAAC;OACW,wBAAwB,CAAG;IAAD,+BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;ACbkG;AAC7F;AACe;AACpB;AAOrC;IAyBE;;;;;;OAMG;IACH,4BACS,OAAsB,EACtB,SAAoB,EACpB,SAAuB,EACvB,WAA6B,EAC7B,QAAkB,EAClB,IAAU;QALV,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,cAAS,GAAT,SAAS,CAAc;QACvB,gBAAW,GAAX,WAAW,CAAkB;QAC7B,aAAQ,GAAR,QAAQ,CAAU;QAClB,SAAI,GAAJ,IAAI,CAAM;QAEjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;IAC7C,CAAC;IAED,2CAAc,GAAd;QAAA,iBAuBC;QAtBC,OAAO;QACP,IAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;QACtD,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,eAAK;YAClD,KAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,KAAI,CAAC,WAAW,CAAC,aAAa,CAAC,KAAI,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,gBAAM;gBACzD,YAAY;gBACZ,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACxC,KAAI,CAAC,SAAS,GAAG,wFAAa,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;YAClD,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;gBACV,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,OAAO,EAAE,CAAC;gBACxC,KAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;gBAC9B,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;YACrB,CAAC,CAAC,CAAC;YACH,2FAA2F;YAC3F,6CAA6C;YAC7C,2DAA2D;YAC3D,KAAK;QACP,CAAC,CAAC,CAAC,KAAK,CAAC,aAAG;YACR,QAAQ,CAAC,QAAQ,IAAI,QAAQ,CAAC,OAAO,EAAE,CAAC;YACxC,gCAAgC;YAChC,KAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;QACvB,CAAC,CAAC,CAAC;IACL,CAAC;IAED;;;;OAIG;IACH,0CAAa,GAAb;QACE,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;IAC7E,CAAC;IA3EU,kBAAkB;QAJ9B,gEAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;WACG;SACrC,CAAC;6EAkC+B;YACX,uFAAS;YACT,2FAAY;YACV,oFAAgB;YACnB,6DAAQ;YACZ,IAAI;OAtCR,kBAAkB,CA6E9B;IAAD,CAAC;AAAA;SA7EY,kBAAkB,iB","file":"0.00e79c288e5d1768e6b3.chunk.js","sourcesContent":["import { LightOutModule } from './../../../light/light-out/light-out.module';\r\nimport { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { WorkNewProcessPage } from './work-new-process';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    WorkNewProcessPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(WorkNewProcessPage),LightOutModule\r\n  ],\r\n})\r\nexport class WorkNewProcessPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work/work-new-process/work-new-process.module.ts","import { LightJsonUtil, LightLoading, LightPop, LightFlowService, LightWriterFlow } from './../../../light/light-out/light-out.module';\nimport { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\nimport { Http } from '@angular/http';\n\n@IonicPage()\n@Component({\n  selector: 'page-work-new-process',\n  templateUrl: 'work-new-process.html',\n})\nexport class WorkNewProcessPage {\n\n  /**\n   * 文档的ID\n   * @type {*}\n   * @memberof WorkNewProcessPage\n   */\n  sCode: any;\n\n  /**\n   * 写入的流程信息\n   *\n   * @type {LightWriterFlow}\n   * @memberof WorkNewProcessPage\n   */\n  writerFlow: LightWriterFlow;\n\n  /**\n   * 写入的数据信息\n   *\n   * @type {*}\n   * @memberof WorkNewProcessPage\n   */\n  writeData: any;\n\n  /**\n   * 创建一个新的流程信息初始化\n   * @param {NavController} navCtrl\n   * @param {NavParams} navParams\n   * @param {LightFlowService} flowServcie\n   * @memberof WorkNewProcessPage\n   */\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public lightload: LightLoading,\n    public flowServcie: LightFlowService,\n    public lightpop: LightPop,\n    public http: Http\n  ) {\n    this.sCode = this.navParams.data.item.Code;\n  }\n\n  ionViewDidLoad() {\n    //加载进度条\n    let loadctrl = this.lightload.showLoading('正在加载中...');\n    this.flowServcie.getStartFlow(this.sCode).then(value => {\n      this.writerFlow = value;\n      this.flowServcie.getWriterForm(this.writerFlow).then(result => {\n        //结束进度条,避免超时\n        loadctrl.instance && loadctrl.dismiss();\n        this.writeData = LightJsonUtil.toObject(result);\n      }).catch(err=>{\n        loadctrl.instance && loadctrl.dismiss();\n        this.lightpop.errMessage(err);\n        this.navCtrl.pop();\n      });\n      // this.http.get('http://172.16.50.81:8100/assets/json/customForm.json').subscribe(res => {\n      //   loadctrl.instance && loadctrl.dismiss();\n      //   console.log(this.writeData = res.json(), `test json1`)\n      // })\n    }).catch(err=>{\n        loadctrl.instance && loadctrl.dismiss();\n        //this.lightpop.errMessage(err);\n        this.navCtrl.pop();\n    });\n  }\n\n  /**\n   * 提交任务的信息\n   *\n   * @memberof WorkNewProcessPage\n   */\n  submitProcess() {\n    this.flowServcie.submitFlow(this.navCtrl, this.writerFlow, this.writeData);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work/work-new-process/work-new-process.ts"],"sourceRoot":""}